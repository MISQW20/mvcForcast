@*@Styles.Render("~/Styles/Home.css")*@
@*@Scripts.Render("~/bundles/jquery")*@
@*@Scripts.Render("~/bundles/bootstrap")*@
@*@Scripts.Render("~/Scripts/ForcasteReport.js")*@







<html>
<head>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    @*<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>*@
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>





    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/css/bootstrap-select.min.css">

    <script src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/js/bootstrap-select.min.js"></script>

    
    


    <script>
        var ServerData = null;
        var selectstr = null;
        var RcvedJobs = null;
        $(document).ready(function () {

            ServerData = $("#customInput").data("value");

            ServerData.forEach(elm => {
                selectstr = selectstr + `<option>` + elm + `</option>`

            })

            
            $(".selectpicker")
                .html(selectstr)
                .selectpicker('refresh');

            

            $("select.jobs").change(function () {
                var selectedJobs = new Array();
                $("option:selected").each(function () {
                    selectedJobs.push($(this).val());
                });
                selectstr = selectedJobs.toString();

                $('#btnGet').prop('disabled', false);
                if (selectstr.length == 0) {
                    $('#btnGet').prop('disabled', true);
                }
            });

            $('select').selectpicker();
            $('.selectpicker').selectpicker('refresh');





            $("#btnGet").click(function () {
                $.ajax({
                    async: "true",
                    type: "POST",
                    url: "/Home/RcvJobs",
                    data: JSON.stringify({jb: selectstr }),
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    success: function (response) {
                        
                        RcvedJobs = response.job
                        console.log(RcvedJobs)
                    },
                    failure: function (response) {
                        alert(response.responseText);
                    },
                    error: function (response) {
                        alert(response.responseText);
                    }
                });
            });


           
        });




      



    </script>



</head>
<body>

    <select id="ddlJobs" class="selectpicker jobs " data-live-search="true" multiple>     
    </select>

   
    <button id="btnGet" disabled>search!</button>

    <input type="hidden" id="customInput" data-value="@ViewBag.json" />
</body>

</html>













